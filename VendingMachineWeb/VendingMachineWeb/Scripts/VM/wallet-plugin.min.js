define("wallet-plugin",["jquery","wallet","knockoutjs"],function(n,t,i){"use strict";function f(){return"."+o}function s(n){return n+f()}function h(n){return{wallet:n.wallet}}function c(){function r(){e.call(t,!0)}function u(){e.call(t,!1)}function f(n){t.$element.html(n);i.applyBindings(t.model.wallet,t.$element.get(0));l.call(t)}function o(n,i,r){t.$element.text("Can not load template - "+i+": '"+r+"'")}var t=this,s={url:v.call(this),dataType:"html",beforeSend:r,type:"GET"};n.ajax(s).always(u).done(f).fail(o)}function l(){this.$element.find(".list-group").on(s("click"),".list-group-item",null,n.proxy(y,this))}function a(){this.$element.find(".list-group").off(f())}function v(){if(!this.options.template||typeof this.options.template!="string"||this.options.template.length==0)throw new Error("Plugin "+r+" can not recognize template, specified in options");return this.options.template}function e(t){t?this.$element.has(".list-ajax-loader").length==0&&n('<div class="list-ajax-loader" />').prependTo(this.$element):this.$element.find(".list-ajax-loader").remove()}function y(t){var i=parseFloat(n(t.target).closest("a.list-group-item").data("nominal"));this.model.wallet.readonly==!1&&this.$element.trigger("money-item-clicked",i)}function p(){n.removeData(this.$element.get(0),r);this.$element.removeClass(r);a.call(this);this.$element=null}var o="WalletP",r="wallet_p",u=function(t,i){this.$element=n(t);this.options=i;this.model=h.call(this,i)};u.prototype={constructor:u,pluginName:r,getId:function(){return this.$element.attr("id")},destroy:function(){p.call(this)}};n.fn[r]=function(t){var i=n.makeArray(arguments),f=i.slice(1);return this.each(function(){var e=n.data(this,r),o;return e?typeof t=="string"?e[t].apply(e,f):e.update&&e.update.apply(e,i):(o=n.extend({},n.fn[r].defaults,typeof t=="object"&&t),e=new u(this,o),c.call(e),n.data(this,r,e),n(this).addClass(r),typeof t=="string"&&e[t].apply(e,f)),!0})};n.fn[r].Constructor=u;n.fn[r].defaults={wallet:new t("def-1","default",[]),template:"wallet-template.html"}});
//# sourceMappingURL=wallet-plugin.min.js.map