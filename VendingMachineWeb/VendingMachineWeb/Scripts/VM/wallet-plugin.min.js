!function(n){"use strict";function u(){return"."+e}function s(n){return n+u()}function h(n){return{wallet:n.wallet}}function c(){function i(){f.call(t,!0)}function r(){f.call(t,!1)}function u(n){t.$element.html(n);ko.applyBindings(t.model.wallet,t.$element.get(0));l.call(t)}function e(n,i,r){t.$element.text("Can not load template - "+i+": '"+r+"'")}var t=this,o={url:v.call(this),dataType:"html",beforeSend:i,type:"GET"};n.ajax(o).always(r).done(u).fail(e)}function l(){this.$element.find(".list-group").on(s("click"),".list-group-item",null,n.proxy(y,this))}function a(){this.$element.find(".list-group").off(u())}function v(){if(!this.options.template||typeof this.options.template!="string"||this.options.template.length==0)throw new Error("Plugin "+t+" can not recognize template, specified in options");return this.options.template}function f(t){t?this.$element.has(".list-ajax-loader").length==0&&n('<div class="list-ajax-loader" />').prependTo(this.$element):this.$element.find(".list-ajax-loader").remove()}function y(t){var i=parseFloat(n(t.target).closest("a.list-group-item").data("nominal"));this.model.wallet.readonly==!1&&this.$element.trigger("money-item-clicked",i)}function p(){n.removeData(this.$element.get(0),t);this.$element.removeClass(t);a.call(this);this.$element=null}var e="WalletP",t="walletp",r="VmSimulator",o=n[r]||(n[r]={}),i=function(t,i){this.$element=n(t);this.options=i;this.model=h.call(this,i)};i.prototype={constructor:i,pluginName:t,getId:function(){return this.$element.attr("id")},destroy:function(){p.call(this)}};n.fn[t]=function(r){var u=n.makeArray(arguments),f=u.slice(1);return this.each(function(){var e=n.data(this,t),o;return e?typeof r=="string"?e[r].apply(e,f):e.update&&e.update.apply(e,u):(o=n.extend({},n.fn[t].defaults,typeof r=="object"&&r),e=new i(this,o),c.call(e),n.data(this,t,e),n(this).addClass(t),typeof r=="string"&&e[r].apply(e,f)),!0})};n.fn[t].Constructor=i;n.fn[t].defaults={wallet:new o.Wallet("def-1","default",[]),template:"wallet-template.html"}}(window.jQuery);
//# sourceMappingURL=wallet-plugin.min.js.map